<p id="notice"><%= notice %></p>

<div class="subpage_header">
<h1>Employees</h1>
</div>

<%= search_form_for @search do |f|%>
  <div class="field">
    <%=f.label :employee_fname_cont, "Name contains" %>
    <%=f.text_field :employee_fname_cont %>
  </div>
  <div class="field">
    <%=f.label :employee_lname_cont, "Last Name contains" %>
    <%=f.text_field :employee_lname_cont %>
  </div>

  <div class="actions"><%=f.submit "Search" %></div>
<%end %>

<table>
  <thead>
    <tr>
      <th><%= sort_link @search, :employee_fname, "First Name" %></th>
      <th><%= sort_link @search, :employee_lname, "Last Name" %></th>
      <th><%= sort_link @search, :employee_email, "Email" %></th>
      <th><%= sort_link @search, :employee_salary, "Salary" %></th>
      <th><%= sort_link @search, :employee_hiredate, "Hire Date" %></th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @employees.each do |employee| %>
      <tr>
        <td><%= sanitize employee.employee_fname.html_safe %></td>
        <td><%= sanitize employee.employee_lname.html_safe %></td>
        <td><%= sanitize employee.employee_email.html_safe %></td>
        <td><%= sanitize number_to_currency(employee.employee_salary).html_safe %></td>
        <td><%= sanitize employee.employee_hiredate.strftime("%B %-d, %Y").html_safe %></td>
        <td><%= link_to 'Details', employee %></td>
        <td><%= link_to 'Edit', edit_employee_path(employee) %></td>
        <td><%= link_to 'Delete', employee, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<button id ="create_new_button">
<%= link_to 'New Employee', new_employee_path %>
</button>